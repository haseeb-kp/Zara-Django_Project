
{% extends 'admin_base.html' %}
{% load static%}

{% block content%}
      <div class="content">
        <div class="pb-5">
        <h3 class="pb-5" style="color: #4D0808; font-family:poppins;">CATEGORY MANAGEMENT</h3>
        <a href="/admin_category/add_category"><button class="btn btn-outline-primary mt-3 float-end">ADD CATEGORY</button></a>
      </div>
      <div class="mt-5">

        <!-- <table id="catTab" class="table mt-5"> -->
        <table id="example" class="table table-striped table-bordered" style="width:100%">

          <thead>
            <tr>
            
            <th scope="col">Category Name</th>
            <th scope="col">Image</th>
            <th></th>
            <th></th>

            </tr>
          </thead>
          <tbody>
            
            {%for category in category%}
    
            <tr>
            <td >{{category.category_name}}</td>
            <td><img src="{{category.image.url}}" style="height:100px;width: 100px;border-radius: 14%;" alt=""></td>
            
            <td><a href="edit_category/{{category.id}}"> <button class="btn btn-outline-primary " type="submit" >Edit</button></a></td>
			<td><a onclick=deleteCategory(event) href="delete_category/{{category.id}}" class="btn btn-outline-danger" ><i >Delete</i></a></td>
			</tr>

      <!-- Modal Delete Category-->
      <!-- <div class="modal fade" id="catModal{{category.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <p class="modal-title text-danger" id="exampleModalLabel">Delete Category</p>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body ">
              Are You sure to Delete the Category?
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
              <a href="delete_category/{{category.id}}"><button type="button" class="btn btn-danger">Delete</button></a>
            </div>
          </div>
        </div>
      </div> -->


    </div>



      <!-- <div class="modal fade" id="catModal{{category.id}}" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="staticBackdropLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Understood</button>
            </div>
          </div>
        </div>
      </div> -->
            {%endfor%}
            
          </tbody>
          </table>
      </div>
      <script>
        function deleteCategory(event){
          event.preventDefault();
          var link = event.currentTarget.href;
          swal({
            title: "Are you sure?",
            text: "Once removed, you will not be able to recover this Item!",
            icon: "warning",
            buttons: true,
            dangerMode: true,
          })
          .then((willDelete) => {
            if (willDelete) {
              swal("category has been removed!", {
                icon: "success",
              }).then(()=>{
                window.location=link;
              });
            } else {
             /* swal("Your imaginary file is safe!");*/
            }
          });
        }
      </script>

      

{%endblock%}
{% block js %}

      <script>
        $(document).ready(function () {
          $('#example').DataTable();
      });
      </script>


{%endblock%}