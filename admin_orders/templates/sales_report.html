
{% extends 'admin_base.html' %}
{% load static%}

{% block content%}

      <div class="content">
        <h3 class=" mt-5 pb-5" style="color: #4D0808; font-family:poppins;">SALES REPORT</h3>

        <table id="example" class="table table-responsive table-bordered mt-5" style="overflow-x:auto;" >
        
          <thead>
            <tr>
            <!-- <th scope="col">#</th> -->
            <th scope="col">order Id</th>
            <th scope="col">order Date</th>
            <th scope="col">Customer</th>
            <th scope="col">Amount</th>
            <th scope="col">Payment Method</th>
            <th scope="col">Order Status</th>
            </tr>
          </thead>
          <tbody>
            
            {%for ol in oldcart%}
    
            <tr>
            <td >{{ol.order.id}}</td>
            <td>{{ol.order.ordered_date}}</td>
            <td>{{ol.order.user}}</td>

            <td>{{ol.total}}</td>
            
            <td>{{ol.order.method}}</td>
            <td>{{ol.order.status}}</td>
            </tr>
            
            {%endfor%}
            
          </tbody>
          
          </table>

      </div>

  {%endblock%}
  {% block js %}
  <!-- <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script> -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.2/moment.min.js"></script>
  <script src="https://cdn.datatables.net/datetime/1.1.2/js/dataTables.dateTime.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.2.3/js/dataTables.buttons.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.2.3/js/buttons.print.min.js"></script>

<script>
        $(document).ready(function() {
                // Setup - add a text input to each footer cell
    $('#example thead tr')
    .clone(true)
    .addClass('filters')
    .appendTo('#example thead');

var table = $('#example').DataTable({
    //scrollX: true,
    bScrollCollapse: true,
    dom: 'Bfrtip',
              buttons: [
                  'copy', 'csv', 'excel', 'pdf', 'print'
              ],
    orderCellsTop: true,
    //fixedHeader: true,

    

    initComplete: function () {
        var api = this.api();

        // For each column
        api
            .columns()
            .eq(0)
            .each(function (colIdx) {
                // Set the header cell to contain the input element
                var cell = $('.filters th').eq(
                    $(api.column(colIdx).header()).index()
                );
                var title = $(cell).text();
                $(cell).html('<input type="text" placeholder="' + title + '" />');

                // On every keypress in this input
                $(
                    'input',
                    $('.filters th').eq($(api.column(colIdx).header()).index())
                )
                    .off('keyup change')
                    .on('change', function (e) {
                        // Get the search value
                        $(this).attr('title', $(this).val());
                        var regexr = '({search})'; //$(this).parents('th').find('select').val();

                        var cursorPosition = this.selectionStart;
                        // Search the column for that value
                        api
                            .column(colIdx)
                            .search(
                                this.value != ''
                                    ? regexr.replace('{search}', '(((' + this.value + ')))')
                                    : '',
                                this.value != '',
                                this.value == ''
                            )
                            .draw();
                    })
                    .on('keyup', function (e) {
                        e.stopPropagation();

                        $(this).trigger('change');
                        $(this)
                            .focus()[0]
                            .setSelectionRange(cursorPosition, cursorPosition);
                    });
            });
    },
});
});
            
          
      </script>



{%endblock%}